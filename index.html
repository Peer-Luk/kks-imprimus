<!DOCTYPE html>
<html lang="de">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>KKS-IMPRIMUS | Schülerfirma</title>
  <style>
    body {
      font-family: "Poppins", sans-serif;
      margin: 0;
      background-color: #f4f4f9;
      color: #333;
    }
    header {
      background-color: #1e3a8a;
      color: white;
      text-align: center;
      padding: 1.5rem 0;
    }
    nav {
      display: flex;
      justify-content: center;
      gap: 1.5rem;
      background: #2b4db3;
      padding: 0.75rem 0;
    }
    nav a {
      color: white;
      text-decoration: none;
      font-weight: bold;
    }
    nav a:hover {
      text-decoration: underline;
    }
    main {
      padding: 2rem;
      max-width: 1200px;
      margin: auto;
    }
    h2 {
      border-left: 5px solid #1e3a8a;
      padding-left: 10px;
    }
    .gallery, .idea-gallery {
      display: grid;
      grid-template-columns: repeat(auto-fit, minmax(220px, 1fr));
      gap: 1.5rem;
      margin-top: 1rem;
    }
    .card, .idea-card {
      background: white;
      border-radius: 10px;
      box-shadow: 0 2px 6px rgba(0,0,0,0.1);
      text-align: center;
      padding: 1rem;
      transition: transform 0.2s;
      position: relative;
    }
    .card:hover, .idea-card:hover {
      transform: scale(1.03);
    }
    .card img, .idea-card img {
      max-width: 100%;
      border-radius: 8px;
    }
    .delete-btn {
      position: absolute;
      top: 5px;
      right: 5px;
      background: red;
      color: white;
      border: none;
      border-radius: 50%;
      width: 25px;
      height: 25px;
      cursor: pointer;
      font-weight: bold;
    }
    footer {
      background-color: #1e3a8a;
      color: white;
      text-align: center;
      padding: 1rem;
      margin-top: 3rem;
    }
    #admin-section {
      display: none;
    }
    .form-section {
      margin-bottom: 2rem;
      padding: 1rem;
      background: #e0e7ff;
      border-radius: 8px;
    }
  </style>
</head>
<body>
  <header>
    <h1>KKS-IMPRIMUS</h1>
    <p>Deine Schülerfirma für kreative Textildrucke</p>
  </header>

  <nav>
    <a href="#home">Start</a>
    <a href="#produkte">Produkte</a>
    <a href="#ideen">Ideen</a>
    <a href="#kontakt">Kontakt</a>
    <a href="#admin">Admin</a>
  </nav>

  <main>
    <section id="home">
      <h2>Willkommen bei KKS-IMPRIMUS</h2>
      <p>Wir sind die Schülerfirma der KKS und gestalten coole T-Shirts, Pullover und Beutel mit einzigartigen Motiven. Schau dich um und lass dich inspirieren!</p>
    </section>

    <section id="produkte">
      <h2>Unsere Designs</h2>
      <div id="gallery" class="gallery"></div>
    </section>

    <section id="ideen">
      <h2>Ideen für neue Motive</h2>
      <div id="ideaGallery" class="idea-gallery"></div>
    </section>

    <section id="kontakt">
      <h2>Kontakt</h2>
      <p>Hast du Fragen oder eigene Design-Ideen? Schreib uns über <strong>Itslearning</strong> eine Nachricht an <strong>Peer Meier von Rouden</strong> oder <strong>Luk Meier von Rouden</strong></p>
    </section>

    <section id="admin">
      <h2>Adminbereich</h2>
      <div id="login-section">
        <input type="password" id="password" placeholder="Passwort eingeben">
        <button onclick="checkLogin()">Login</button>
        <p id="login-error" style="color:red;"></p>
      </div>

      <div id="admin-section">
        <div class="form-section">
          <h3>Design hinzufügen</h3>
          <form id="designForm">
            <label>Name des Designs:</label><br>
            <input type="text" id="designName" required><br><br>

            <label>Kategorie:</label><br>
            <select id="designCategory">
              <option value="T-Shirt">T-Shirt</option>
              <option value="Pullover">Pullover</option>
              <option value="Sportbeutel">Sportbeutel</option>
              <option value="Beutel">Beutel</option>
            </select><br><br>

            <label>Bild hochladen:</label><br>
            <input type="file" id="designImage" accept="image/*" required><br><br>

            <button type="submit">Design speichern</button>
          </form>
        </div>

        <div class="form-section">
          <h3>Idee hinzufügen</h3>
          <form id="ideaForm">
            <label>Name der Idee:</label><br>
            <input type="text" id="ideaName" required><br><br>
            <label>Bild hochladen:</label><br>
            <input type="file" id="ideaImage" accept="image/*" required><br><br>
            <button type="submit">Idee speichern</button>
          </form>
        </div>
      </div>
    </section>
  </main>

  <footer>
    <p>© 2025 KKS-IMPRIMUS | Schülerfirma der KKS</p>
  </footer>

  <script>
    const PASSWORD = "imprimus2025";
    let isAdmin = false; // Adminstatus

    function checkLogin() {
      const input = document.getElementById("password").value;
      const error = document.getElementById("login-error");
      if (input === PASSWORD) {
        document.getElementById("login-section").style.display = "none";
        document.getElementById("admin-section").style.display = "block";
        isAdmin = true;
        loadDesigns();
        loadIdeas();
      } else {
        error.textContent = "Falsches Passwort!";
        isAdmin = false;
      }
    }

    document.addEventListener("DOMContentLoaded", () => {
      const designForm = document.getElementById("designForm");
      const ideaForm = document.getElementById("ideaForm");

      designForm.addEventListener("submit", (e) => {
        e.preventDefault();
        const name = document.getElementById("designName").value;
        const category = document.getElementById("designCategory").value;
        const file = document.getElementById("designImage").files[0];
        const reader = new FileReader();
        reader.onload = function(event) {
          const designs = JSON.parse(localStorage.getItem("designs") || "[]");
          designs.push({ name, category, image: event.target.result });
          localStorage.setItem("designs", JSON.stringify(designs));
          loadDesigns();
          designForm.reset();
        };
        reader.readAsDataURL(file);
      });

      ideaForm.addEventListener("submit", (e) => {
        e.preventDefault();
        const name = document.getElementById("ideaName").value;
        const file = document.getElementById("ideaImage").files[0];
        const reader = new FileReader();
        reader.onload = function(event) {
          const ideas = JSON.parse(localStorage.getItem("ideas") || "[]");
          ideas.push({ name, image: event.target.result });
          localStorage.setItem("ideas", JSON.stringify(ideas));
          loadIdeas();
          ideaForm.reset();
        };
        reader.readAsDataURL(file);
      });

      loadDesigns();
      loadIdeas();
    });

    function loadDesigns() {
      const gallery = document.getElementById("gallery");
      gallery.innerHTML = "";
      const designs = JSON.parse(localStorage.getItem("designs") || "[]");
      designs.forEach((design, index) => {
        const div = document.createElement("div");
        div.className = "card";
        div.innerHTML = `
          ${isAdmin ? `<button class="delete-btn" onclick="deleteDesign(${index})">&times;</button>` : ""}
          <img src="${design.image}" alt="${design.name}">
          <h3>${design.name}</h3>
          <p>${design.category}</p>
        `;
        gallery.appendChild(div);
      });
    }

    function loadIdeas() {
      const ideaGallery = document.getElementById("ideaGallery");
      ideaGallery.innerHTML = "";
      const ideas = JSON.parse(localStorage.getItem("ideas") || "[]");
      ideas.forEach((idea, index) => {
        const div = document.createElement("div");
        div.className = "idea-card";
        div.innerHTML = `
          ${isAdmin ? `<button class="delete-btn" onclick="deleteIdea(${index})">&times;</button>` : ""}
          <img src="${idea.image}" alt="${idea.name}">
          <h3>${idea.name}</h3>
        `;
        ideaGallery.appendChild(div);
      });
    }

    function deleteDesign(index) {
      if (!isAdmin) { alert("Nur Admins dürfen Designs löschen!"); return; }
      const designs = JSON.parse(localStorage.getItem("designs") || "[]");
      designs.splice(index, 1);
      localStorage.setItem("designs", JSON.stringify(designs));
      loadDesigns();
    }

    function deleteIdea(index) {
      if (!isAdmin) { alert("Nur Admins dürfen Ideen löschen!"); return; }
      const ideas = JSON.parse(localStorage.getItem("ideas") || "[]");
      ideas.splice(index, 1);
      localStorage.setItem("ideas", JSON.stringify(ideas));
      loadIdeas();
    }
  </script>
</body>
</html>
